<div class="criar-prato">
	<h2>Criar novo prato</h2>

	<form [formGroup]="productForm" (ngSubmit)="onSubmit()" novalidate>
		<div class="form-group">
			<label for="name">Nome</label>
			<input id="name" formControlName="name" />
					<div class="error" *ngIf="productForm.get('name')?.touched && productForm.get('name')?.invalid">
						<small *ngIf="productForm.get('name')?.hasError('required')">Nome é obrigatório.</small>
						<small *ngIf="productForm.get('name')?.hasError('maxlength')">Nome muito longo.</small>
					</div>
		</div>

		<div class="form-group">
			<label for="description">Descrição</label>
			<textarea id="description" formControlName="description"></textarea>
					<div class="error" *ngIf="productForm.get('description')?.touched && productForm.get('description')?.invalid">
						<small *ngIf="productForm.get('description')?.hasError('required')">Descrição é obrigatória.</small>
					</div>
		</div>

		<div class="form-group">
			<label for="price">Preço (R$)</label>
			<input id="price" type="number" step="0.01" formControlName="price" />
					<div class="error" *ngIf="productForm.get('price')?.touched && productForm.get('price')?.invalid">
						<small *ngIf="productForm.get('price')?.hasError('required')">Preço é obrigatório.</small>
						<small *ngIf="productForm.get('price')?.hasError('min')">Preço deve ser maior ou igual a 0.</small>
					</div>
		</div>

		<div class="form-group">
			<label for="category">Categoria</label>
			<select id="category" formControlName="category">
				<option value="" disabled>-- selecione --</option>
				<option *ngFor="let c of categories" [value]="c">{{ c }}</option>
			</select>
					<div class="error" *ngIf="productForm.get('category')?.touched && productForm.get('category')?.invalid">
						<small *ngIf="productForm.get('category')?.hasError('required')">Categoria é obrigatória.</small>
					</div>
		</div>

		<div class="form-group">
			<label for="imageUrl">URL da imagem (opcional)</label>
			<input id="imageUrl" formControlName="imageUrl" />
		</div>

		<div class="form-group checkbox">
			<label>
				<input type="checkbox" formControlName="available" /> Disponível
			</label>
		</div>

		<div class="actions">
			<button type="submit" [disabled]="submitting">{{ submitting ? 'Criando...' : 'Criar prato' }}</button>
		</div>
	</form>

	<div class="feedback success" *ngIf="successMessage">{{ successMessage }}</div>
	<div class="feedback error" *ngIf="errorMessage">{{ errorMessage }}</div>
</div>
