// criarpedidos.component.scss
// Estilos aprimorados para a página de criação de pratos
// Mobile-first, responsivo, com foco em legibilidade e acessibilidade

// ----------------------
// Variáveis
// ----------------------
$bg: #f6f7fb;
$card-bg: #ffffff;
$primary: #0f62fe; // azul mais claro
$primary-600: #0747a6;
$accent: #00bfa6;
$text: #0f1724;
$muted: #6b7280;
$error: #e02424;
$success: #16a34a;
$shadow: 0 8px 28px rgba(15,22,36,0.06);
$radius: 12px;
$gap: 18px;

$form-bg-start: #f4f9ff; // suave azul claro
$form-bg-end: #ffffff;

$breakpoint-md: 920px;
$breakpoint-sm: 640px;

// ----------------------
// Mixins
// ----------------------
@mixin respond-to($bp) {
  @if $bp == md {
    @media (min-width: $breakpoint-md) { @content; }
  } @else if $bp == sm {
    @media (min-width: $breakpoint-sm) { @content; }
  }
}

// ----------------------
// Reset local útil
// ----------------------
.criar-pedidos { box-sizing: border-box; }
.criar-pedidos *, .criar-pedidos *::before, .criar-pedidos *::after { box-sizing: inherit; }

// ----------------------
// Layout principal
// ----------------------
.criar-pedidos {
  min-height: 100vh;
  background: linear-gradient(180deg, $bg 0%, lighten($bg, 1%) 100%);
  padding: 20px;
  color: $text;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;

  .container {
    max-width: 1200px;
    margin: 0 auto;
    display: grid;
    grid-template-columns: 1fr;
    gap: $gap;

    @include respond-to(md) {
      grid-template-columns: 1fr 360px; // formulário + painel lateral
      align-items: start;
      gap: 28px;
    }
  }

  // Cabeçalho
  .header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: $gap;
    margin-bottom: 4px;

    .title h1 { margin: 0; font-size: 1.6rem; font-weight: 700; }
    .title p { margin: 0; color: $muted; font-size: 0.95rem; }

    .actions .btn { background: transparent; border: none; color: $primary; cursor: pointer; font-weight: 600; }
  }

  // Card base
  .card {
    background: $card-bg;
    border-radius: $radius;
    box-shadow: $shadow;
    padding: 18px;
    border: 1px solid rgba(15,22,36,0.04);
  }

  // ----------------------
  // Formulário
  // ----------------------
  .form {
    // Form wrapper: give a subtle colored background and center it on the page
    .card { 
      padding: 22px; 
      background: linear-gradient(180deg, $form-bg-start 0%, $form-bg-end 100%);
      border: 1px solid rgba(15,22,36,0.05);
      box-shadow: 0 14px 40px rgba(15,22,36,0.06);
      max-width: 920px;
      margin: 0 auto; /* centraliza o formulário */
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;

      @include respond-to(sm) { grid-template-columns: 1fr 240px; }
      @include respond-to(md) { grid-template-columns: 1fr 320px; }
    }

    fieldset { border: none; padding: 0; margin: 0; }

    .form-row { display: grid; grid-template-columns: 1fr; gap: 12px;
      @include respond-to(sm) { grid-template-columns: repeat(2, 1fr); }
    }

    .form-group { display: flex; flex-direction: column; }

    label { font-size: 0.9rem; color: $muted; margin-bottom: 8px; }

    input[type="text"], input[type="number"], select, textarea {
      height: 46px;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid rgba(15,22,36,0.06);
      background: #fff;
      color: $text;
      font-size: 0.95rem;
      transition: box-shadow .12s ease, transform .08s ease, border-color .12s ease;
      outline: none;
    }

    textarea { min-height: 100px; padding-top: 10px; padding-bottom: 10px; height: auto; }

    input:focus, textarea:focus, select:focus {
      box-shadow: 0 6px 20px rgba(15,98,254,0.08);
      border-color: $primary;
      transform: translateY(-1px);
    }

    // Buttons
    .form-actions { margin-top: 18px; display: flex; justify-content: flex-end; gap: 12px; }

    .btn { display: inline-flex; align-items: center; gap: 8px; padding: 10px 16px; border-radius: 10px; border: none; cursor: pointer; font-weight: 700; }
    .btn-primary { background: $primary; color: white; box-shadow: 0 10px 30px rgba(15,98,254,0.12); min-width: 140px; }
    .btn-primary:hover { background: $primary-600; }
    .btn-primary:disabled { opacity: 0.6; cursor: not-allowed; box-shadow: none; }
    .btn-secondary { background: transparent; border: 1px solid rgba(15,22,36,0.06); color: $muted; padding: 8px 12px; border-radius: 8px; }

    // Make action buttons full width on small screens
    @include respond-to(sm) {
      .form-actions { justify-content: stretch; }
      .form-actions .btn { width: 100%; }
    }

    // Checkbox inline styling
    label > input[type="checkbox"] { margin-right: 8px; transform: translateY(2px); }

    // Small helpers for inputs
    input::placeholder, textarea::placeholder { color: lighten($muted, 12%); }

    // Preview aside
    aside.card { display: flex; flex-direction: column; gap: 12px; }
    aside h3 { margin: 0 0 6px 0; font-size: 1.05rem; }
    .preview-row { display: flex; justify-content: space-between; color: $muted; font-size: 0.95rem; }
  }

  // ----------------------
  // Summary / painel lateral (quando existir)
  // ----------------------
  .summary {
    .card { padding: 18px; display: flex; flex-direction: column; gap: 14px; position: sticky; top: 20px; }
    .summary-row { display: flex; justify-content: space-between; color: $muted; }
    .totals { font-weight: 800; color: $text; font-size: 1.1rem; border-top: 1px dashed rgba(15,22,36,0.04); padding-top: 8px; }
  }

  // Small utilities
  .chip { display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px; background: rgba(15,22,36,0.04); color: $muted; font-size: 0.85rem; }

  .muted { color: $muted; }

  // Accessibility helper
  .sr-only { position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px, 1px, 1px, 1px); white-space: nowrap; }
}